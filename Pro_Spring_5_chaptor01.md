# Chapter 01 - 스프링 소개

## 1.1 스프링이란?

- 스프링은 어떤 형태의 자바 애플리케이션이라도 개발할 수 있게 해줌
- 경량
  - 실제 클래스 개수나 배포 모듈의 크기가 아닌 스프링 철학의 원칙인 최소한의 영향

### 1.1.1 스프링 프레임워크의 발전 과정

- 로드 존슨의 저서 `Expert One-on-One:J2EE Design and Development` 에서 유례 (2002년)
- 스프링 0.9 버전
  - 빈 구성 기반, AOP 지원, JDBC 추상화 프레임워크, 추상 트랜잭션 지원 등을 제공
- 스프링 1.x 버전
  - 스프링 코어, 스프링 컨텍스트, 스프링 DAO, 스프링 ORM, 스프링 AOP, 스프링 웹, 스프링 웹 MVC로 구성
- 스프링 2.x 버전
  - 스프링 코어, 스프링 AOP, 스프링 DAO, 스프링 ORM, 스프링 JEE, 스프링 웹으로 구성
- 스프링 2.5.x 버전
  - @Autowired 구성 어노테이션과 JSR-250 어노테이션(@Resource, @PostConstruct, PreDestroy), 새로운 스테레오타입 어노테이션, 자동 클래스 경로 탐색, AOP 기능 개선, 웹스피어 트랜잭션 관리 지원 ...
- 스프링 3.0.x 버전
  - 제네릭, varargs 및 기타 개선 사항 등에 대한 지원, SpEL 도입, 포괄적인 REST, @CookieValue, @RequestHeaders, 빈 유효성 검증 지원 ...
- 스프링 3.1.x 버전
  - 새로운 캐시 추상화, @Profile 어노테이션에 대한 빈 정의 프로파일 지원, 하이버네으트 4, @Configuration 클래스 지원, @Valid 어노테이션, @RequestPart 어노테이션 사용 ...
- 스프링 3.2.x 버전
  - 서블릿 3 기반 비동기 요청 처리 지원, 새로운 스프링 MVC 테스트 프레임워크 도입, @ControllerAdvice와 @MatrixVariable 추가, Jackson JSON 2 지원, 깃허브로 이전 ...
- 스프링 4.0.x 버전
  - 스프링 코어, 스프링 테스트, 스프링 AOP, 스프링 메시징, 스프링 데이터 접근/통합, 스프링 웹
  - 자바 8지원, 코어 컨테이너, 테스트, 일반 웹 개선, 웹소켓 지원 등등
- 스프링 4.2.x 버전
  - 코어 개선, 하이버네이트 ORM 5.0 지원, JMS 및 웹 개선, 웹 소켓 메시징 개선, 테스트 개선
- 스프링 4.3.x 버전
  - 프로그래밍 모델 개선, 코어 컨테이너와 MVC 대폭 개선, Composed 어노테이션 추가 등등 ..
- 스프링 5.0.x 버전
  - 스프링의 메이저 릴리즈 버전, 자바 8 기반, 자바 9와 완벽 호환
  - 웹 및 코어 모듈을 반응형 프로그래밍 모델에 맞게 개선, Junit 5 지원 등등 ..
- 스프링 5.1.x 버전
  - 공식적으로 자바 11 지원, 코어 타입 및 어노테이션 분석 성능 향상

### 1.1.2 제어 역전과 의존성 주입

- 스프링 프레임워크의 코어는 `제어 역전 원칙(Inversion of Control, IOC)`에 기반
  - IOC는 컴포넌트 간의 의존성 생성과 관리를 외부에서 수행하는 기법
  - 런타임에 의존성을 주입하는 동작은 `의존성 주입(Dependency Injection, DI)`이라는 용어로 불림
- 스프링 ID 구현체는 자바빈과 인터페이스의 두 가지 핵심적인 자바 개념을 기반
  - 다양한 방식으로 애플리케이션의 의존성 구현 정의
  - `빈(bean)` : 스프링이 관리하는 모든 리소스
- 인터페이스와 DI는 서로에게 도움이 되는 기술
  - DI는 인터페이스 기반의 설계에 추가 코드를 줄여줌
  - 인터페이스를 이용하면 빈의 의존성을 충족시키는 어떤 구현체라도 사용 가능
  - 인터페이스를 사용하여 AOP와 같은 강력한 기능 사용 가능
- 스프링은 DI의 컨테이너 역할
  - 애플리케이션 내에서 의존 관계를 가진 모든 클래스의 인스턴스를 제공 (특정한 방법 강제 X)

### 1.1.3 의존성 주입의 발전 과정

- DI는 JSR-330에서 공식적인 자바 사양
- DI의 장점들
  - 접착(glue) 코드 감소 : 컴포넌트를 서로 연결할 때 작성하는 코드의 양을 크게 줄임
  - 애플리케이션 구성 단순화 : 구성 과정을 단순화 시키고 클래스에 주입할 다른 클래스를 여러 방식으로 구성 가능
  - 단일 저장소에서 공통 의존성을 관리 : 데이터 소스 연결, 트랜잭션, 원격 서비스 등등
  - 테스트 편의성 향상 : 테스트용 데이터를 반환하는 DAO 목 구현체 전달 가능
  - 좋은 애플리케이션 설계를 노출 : 인터페이스를 사용한 설계 -> 애플리케이션 로직 개발에 집중

### 1.1.4 의존성 주입을 넘어서

- 스프링의 대단한 점은 여러 기능을 독자적으로 제공하면서도 다른 도구와 쉽게 연동 가능한 것

#### 1.1.4.1 자바 9 지원

- 압축 문자열, ALPN 스택, 새로운 HTTP 클라이언트 구현과 같은 JDK 9 기능 사용 가능

#### 1.1.4.2 스프링과 관점 지향 프로그래밍

- `AOP(Aspect-Oriented Programming)`는 애플리케이션의 여러 부분에 공통으로 적용되는 로직인 크로스커팅 로직을 한곳에서 구현하고 해당 로직을 애플리케이션 전반에서 자동으로 적용할 수 있게 해줌
- AspectJ 스타일의 포인트컷 표현식 지원, @AspectJ 어노테이션 스타일의 스프링 AOP를 사용한 위빙 지원, AspectJ에서 구현된 애스펙트를 통한 DI 지원, 스프링 ApplicationContext 내에서 로드 타임 위빙 지원

#### 1.1.4.3 스프링 표현식 언어(SpEL)

- `표현식 언어(Expression Language, EL)`는 애플리케이션이 런타임 시점에 자바 객체를 사용할 수 있게 해주는 기술
  - 서로 다른 기술별로 자체 EL 구현체와 구문을 지원하므로 통합된 EL이 만들어짐

#### 1.1.4.4 스프링 유효성 검증

- 스프링은 Validator 인터페이스를 통해 내장된 유효성 검증 api를 제공
- 유틸리티 클래스인 ValidationUtils도 제공
- JCP에서 개발한 JSR-303(빈 유효성 검증)도 사용 가능
  - ex) @NotNull
