# Chapter 01 - 스프링 소개

## 1.1 스프링이란?

- 스프링은 어떤 형태의 자바 애플리케이션이라도 개발할 수 있게 해줌
- 경량
  - 실제 클래스 개수나 배포 모듈의 크기가 아닌 스프링 철학의 원칙인 최소한의 영향

### 1.1.1 스프링 프레임워크의 발전 과정

- 로드 존슨의 저서 `Expert One-on-One:J2EE Design and Development` 에서 유례 (2002년)
- 스프링 0.9 버전
  - 빈 구성 기반, AOP 지원, JDBC 추상화 프레임워크, 추상 트랜잭션 지원 등을 제공
- 스프링 1.x 버전
  - 스프링 코어, 스프링 컨텍스트, 스프링 DAO, 스프링 ORM, 스프링 AOP, 스프링 웹, 스프링 웹 MVC로 구성
- 스프링 2.x 버전
  - 스프링 코어, 스프링 AOP, 스프링 DAO, 스프링 ORM, 스프링 JEE, 스프링 웹으로 구성
- 스프링 2.5.x 버전
  - @Autowired 구성 어노테이션과 JSR-250 어노테이션(@Resource, @PostConstruct, PreDestroy), 새로운 스테레오타입 어노테이션, 자동 클래스 경로 탐색, AOP 기능 개선, 웹스피어 트랜잭션 관리 지원 ...
- 스프링 3.0.x 버전
  - 제네릭, varargs 및 기타 개선 사항 등에 대한 지원, SpEL 도입, 포괄적인 REST, @CookieValue, @RequestHeaders, 빈 유효성 검증 지원 ...
- 스프링 3.1.x 버전
  - 새로운 캐시 추상화, @Profile 어노테이션에 대한 빈 정의 프로파일 지원, 하이버네으트 4, @Configuration 클래스 지원, @Valid 어노테이션, @RequestPart 어노테이션 사용 ...
- 스프링 3.2.x 버전
  - 서블릿 3 기반 비동기 요청 처리 지원, 새로운 스프링 MVC 테스트 프레임워크 도입, @ControllerAdvice와 @MatrixVariable 추가, Jackson JSON 2 지원, 깃허브로 이전 ...
- 스프링 4.0.x 버전
  - 스프링 코어, 스프링 테스트, 스프링 AOP, 스프링 메시징, 스프링 데이터 접근/통합, 스프링 웹
  - 자바 8지원, 코어 컨테이너, 테스트, 일반 웹 개선, 웹소켓 지원 등등
- 스프링 4.2.x 버전
  - 코어 개선, 하이버네이트 ORM 5.0 지원, JMS 및 웹 개선, 웹 소켓 메시징 개선, 테스트 개선
- 스프링 4.3.x 버전
  - 프로그래밍 모델 개선, 코어 컨테이너와 MVC 대폭 개선, Composed 어노테이션 추가 등등 ..
- 스프링 5.0.x 버전
  - 스프링의 메이저 릴리즈 버전, 자바 8 기반, 자바 9와 완벽 호환
  - 웹 및 코어 모듈을 반응형 프로그래밍 모델에 맞게 개선, Junit 5 지원 등등 ..
- 스프링 5.1.x 버전
  - 공식적으로 자바 11 지원, 코어 타입 및 어노테이션 분석 성능 향상

### 1.1.2 제어 역전과 의존성 주입

- 스프링 프레임워크의 코어는 `제어 역전 원칙(Inversion of Control, IOC)`에 기반
  - IOC는 컴포넌트 간의 의존성 생성과 관리를 외부에서 수행하는 기법
  - 런타임에 의존성을 주입하는 동작은 `의존성 주입(Dependency Injection, DI)`이라는 용어로 불림
- 스프링 ID 구현체는 자바빈과 인터페이스의 두 가지 핵심적인 자바 개념을 기반
  - 다양한 방식으로 애플리케이션의 의존성 구현 정의
  - `빈(bean)` : 스프링이 관리하는 모든 리소스
- 인터페이스와 DI는 서로에게 도움이 되는 기술
  - DI는 인터페이스 기반의 설계에 추가 코드를 줄여줌
  - 인터페이스를 이용하면 빈의 의존성을 충족시키는 어떤 구현체라도 사용 가능
  - 인터페이스를 사용하여 AOP와 같은 강력한 기능 사용 가능
- 스프링은 DI의 컨테이너 역할
  - 애플리케이션 내에서 의존 관계를 가진 모든 클래스의 인스턴스를 제공 (특정한 방법 강제 X)

### 1.1.3 의존성 주입의 발전 과정

- DI는 JSR-330에서 공식적인 자바 사양
- DI의 장점들
  - 접착(glue) 코드 감소 : 컴포넌트를 서로 연결할 때 작성하는 코드의 양을 크게 줄임
  - 애플리케이션 구성 단순화 : 구성 과정을 단순화 시키고 클래스에 주입할 다른 클래스를 여러 방식으로 구성 가능
  - 단일 저장소에서 공통 의존성을 관리 : 데이터 소스 연결, 트랜잭션, 원격 서비스 등등
  - 테스트 편의성 향상 : 테스트용 데이터를 반환하는 DAO 목 구현체 전달 가능
  - 좋은 애플리케이션 설계를 노출 : 인터페이스를 사용한 설계 -> 애플리케이션 로직 개발에 집중

### 1.1.4 의존성 주입을 넘어서

- 스프링의 대단한 점은 여러 기능을 독자적으로 제공하면서도 다른 도구와 쉽게 연동 가능한 것

#### 1.1.4.1 자바 9 지원

- 압축 문자열, ALPN 스택, 새로운 HTTP 클라이언트 구현과 같은 JDK 9 기능 사용 가능

#### 1.1.4.2 스프링과 관점 지향 프로그래밍

- `AOP(Aspect-Oriented Programming)`는 애플리케이션의 여러 부분에 공통으로 적용되는 로직인 크로스커팅 로직을 한곳에서 구현하고 해당 로직을 애플리케이션 전반에서 자동으로 적용할 수 있게 해줌
- AspectJ 스타일의 포인트컷 표현식 지원, @AspectJ 어노테이션 스타일의 스프링 AOP를 사용한 위빙 지원, AspectJ에서 구현된 애스펙트를 통한 DI 지원, 스프링 ApplicationContext 내에서 로드 타임 위빙 지원

#### 1.1.4.3 스프링 표현식 언어(SpEL)

- `표현식 언어(Expression Language, EL)`는 애플리케이션이 런타임 시점에 자바 객체를 사용할 수 있게 해주는 기술
  - 서로 다른 기술별로 자체 EL 구현체와 구문을 지원하므로 통합된 EL이 만들어짐

#### 1.1.4.4 스프링 유효성 검증

- 스프링은 Validator 인터페이스를 통해 내장된 유효성 검증 api를 제공
- 유틸리티 클래스인 ValidationUtils도 제공
- JCP에서 개발한 JSR-303(빈 유효성 검증)도 사용 가능
  - ex) @NotNull

#### 1.1.4.5 스프링에서의 데이터 액세스

- 스프링은 다양한 데이터 액세스 도구와 훌륭하게 통합
- 스프링은 표준 JDBC API를 기반으로 단순화한 래퍼 API를 제공
- 특수 목적용 데이터베이스를 지원하기 위해 `스프링 데이터` 프로젝트가 만들어짐

#### 1.1.4.6 스프링에서의 객체/XML 매핑(OXM)

- 자바빈 <-> XML로 상호 변환하는 마샬링과 언마샬링을 위한 공통 인터페이스 제공
- JAXB, Castor, XStream, JiBX, XMLBeans와 같은 라이브러리를 모두 지원

#### 1.1.4.7 트랜잭션 관리

- 스프링은 프로그래밍 방식이나 선언적 방식의 트랜잭션 관리를 지원하는 훌륭한 추상화 계층을 제공

#### 1.1.4.8 JEE 단순화 및 연동

- EJB 기반 구축 혹은 스프링 기반 애플리케이션을 JEE 컨테이너에 배포하는 등의 기술을 쉽게 사용할 수 있도록 지원
- EJB를 위한 JNDI 룩업 혹은 스프링 빈을 EJB에 주입하기 위한 어노테이션 제공

#### 1.1.4.9 웹 티어의 MVC

- 웹 기반 애플리케이션의 개발을 지원하는 다양한 클래스를 제공
- 스프링은 단순한 웹 프레임워크로부터 시작해 완전한 MVC 구현체로 점차적 발전
- 다른 웹 프레임워크와의 연동도 지원

#### 1.1.4.10 웹소켓(WebSocket) 지원

- 스프링 프레임워크 4.0 버전부터 JSR-356(웹소켓용 자바 API) 사양 지원
- 웹소켓 스타일의 개발은 빠른 응답의 애플리케이션을 위한 실시간 메시지를 교환하는 효율적인 전이중 통신 지원

#### 1.1.4.11 리모팅(Remoting) 지원

- 스프링의 다양한 리모팅 지원 기능을 사용해 원격 서비스에 쉽게 접근하거나 원격 서비스를 노출 가능
- RMI, JAX-WS, Caucho Hessian, Burlap, JMS, AMQP, REST 등 다양한 원격 메커니즘 지원

#### 1.1.4.12 메일 지원

- 스프링 DI 기능에 잘 맞는 이메일 메시지를 전송할 수 있는 API 제공
- 표준 자바 메일 API도 지원

#### 1.1.4.13 잡(job) 스케줄링 지원

- 태스크 실행과 스케줄링을 ㅜ이해 다른 스케줄링 라이브러리와도 연동 가능
- JDK Timer API, 쿼츠 등을 지원

#### 1.1.4.14 동적 스크립트 지원

- 자바 이외의 다른 언어로 작성된 스크립트를 실행할 수 있게 지원
- 동적 스크립트 언어로 그루비, 제이루비, 빈셸 등을 지원

#### 1.1.4.15 단순한 예외 처리

- 스프링은 개발자가 언체크 예외를 사용함으로써 예외 계층 구조를 매우 상세하게 지정할 수 있다는 것
- 스프링 예외 처리 메커니즘을 사용함으로써 작성해야 하는 코드의 양을 줄이고 애플리케이션 내에서 에러를 식별, 구분하며 진단하는 기능을 향상시킴

## 1.2 스프링 프로젝트

- 스프링 커뮤니티는 활발하게 운영되고 있음

### 1.2.1 스프링의 기원

- 로드 존슨의 저서 `Expert One-on-One:J2EE Design and Development` 에서 유례 (2002년)
  - Interface 21이라는 자신의 프레임워크를 발표 (스프링의 기반)

### 1.2.2 스프링 커뮤니티

- 스프링은 오픈 소스 프로젝트 중 최고의 커뮤니티
  - 훌륭한 문서와 테스트 스위트
  - 공식 깃허브 저장소(http://github.com/spring-projects)
  - 공식 스프링 JIRA(https://jira.spring.io/secure/Dashboard.jspa)
  - 훌륭한 프레임워크를 지속해서 개선

#### 1.2.3 스프링 IDE(Spring Tool Suite)

- 이클립스에서 스프링 IDE 프로젝트를 만듦
- 그 후 스프링소스에서 `STS(Spring Tool Suite, 스프링 툴 스위트)`라는 통합 도구를 만듦
  - 유용한 이클립스 플러그인을 하나의 패키지로 통합

#### 1.2.4 스프링 시큐리티 프로젝트

- 스프링 시큐리티는 웹 애플리케이션과 메서드 레벨 보안을 폭넓게 지원
- HTTP 기본 인증, 폼 기반 로그인, X.509 인증서, SSO, ACL 등과 같은 인증 메커니즘을 지원

#### 1.2.5 스프링 부트

- 스프링 부트는 운영 등급의 스프링 기반 애플리케이션을 단독 실행형으로 쉽게 만들 수 있도록 도와주는 스프링 프로젝트
- 스타터 패키지로 압축된 다양한 유형의 스프링 애플리케이션에 대해 바로 사용할 수 있는 구성이 준비되어 있음

#### 1.2.6 스프링 배치와 인티그레이션

- 배치 작업 실행과 통합을 위해 스프링 배치, 스프링 인티그레이션 프로젝트가 개발됨
- 스프링 배치는 배치 작업 구현을 위한 반복 코드를 줄여줌
- 스프링 통합은 엔터프라이즈 통합 패턴을 구현

#### 1.2.7 그 외 많은 프로젝트

- 이 밖에도 스프링 부트, 스프링 XD, 스프링 안드로이드, 스프링 모바일, 스프링 소셜, 스프링 AMQP 등이 있음

## 1.3 스프링의 대안

- 이 중에서 어느 것도 스프링만큼 다양한 요구사항에 대해 폭넓은 해결책을 제공해 주지는 못함

### 1.3.1 제이보스 심 프레임워크

- DI 기반 프레임워크
- 프런트엔드 개발, 비즈니스 로직 레이어, 자바 퍼시스턴스 API를 지원

### 1.3.2 구글 주스(Google Guice)

- 구글의 주도로 만들어진 애플리케이션 구성 관리를 위한 DI 기능을 제공하는 데 중점을 둔 경량 프레임 워크
- JSR-330(자바의존성 주입) 사양의 레퍼런스 구현체

### 1.3.3 PicoContainer

- 매우 작은 DI 컨테이너, 애플리케이션에서 PicoContainer 이외의 어떤 의존성도 갖지 않는 DI 컨테이너를 사용할 수 있게 해줌

### 1.3.4 JEE 7 컨테이너

- JCP에 의해 구현
- JEE 7(JSR-342) 사양을 준수하는 애플리케이션 서버를 사용하게 되면 모든 레이어에서 표준 DI 기술 사용 가능
